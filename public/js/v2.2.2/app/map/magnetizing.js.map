{"version":3,"sources":["app/map/magnetizing.js"],"names":["define","$","MapUtil","magnetizerInstances","hasInstance","mapId","hasOwnProperty","getInstance","initMagnetizer","mapContainer","data","systems","getSystems","_offset","system","_","p","v","style","parseInt","substring","length","left","top","_setOffset","o","Math","round","markAsUpdated","markAsChanged","_dragFilter","systemId","filterClasses","config","systemLockedClass","document","getElementById","classList","some","className","indexOf","gridConstrain","gridX","gridY","id","current","delta","hasClass","mapGridClass","floor","magnetizer","setInstance","window","Farahey","container","getContainerPosition","offset","getPosition","getSize","clientRect","getBoundingClientRect","width","height","getId","setPosition","elements","toArray","filter","padding","constrain","mapSnapToGridDimension","executeNow","excludeFocus","destroyMagnetizer","reset","executeAtEvent","map","e","getContainer","iterations","repaintEverything","addElement","doNotTestForDuplicates","removeElement"],"mappings":"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","file":"magnetizing.js","sourceRoot":"/js"}