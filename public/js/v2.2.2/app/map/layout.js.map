{"version":3,"sources":["app/map/layout.js"],"names":["define","Position","[object Object]","config","this","_defaultConfig","container","center","elementClass","defaultSteps","defaultGapX","defaultGapY","gapX","gapY","minX","minY","spacingX","spacingY","loops","grid","newElementWidth","newElementHeight","mirrorSearch","debug","debugOk","debugElementClass","_config","Object","assign","dimensionCache","_cacheKey","dim","depth","left","top","width","height","join","_degToRad","deg","Math","PI","_getElementDimension","element","a","b","Array","isArray","point","parseInt","_transformPointToGrid","Element","style","offsetWidth","toString","offsetHeight","_getEllipseCoordinates","angle","coordinates","x","round","sqrt","pow","tan","y","_getAllElementDimensions","dimensions","surroundingElements","_getContainer","getElementsByClassName","push","floor","_transformCoordinate","centerDimension","coordinate","abs","_percentCovered","dim1","dim2","percent","right","bottom","l","max","r","min","t","_valid","_isOverlapping","dimensionContainer","allDimensions","isOverlapping","cacheKey","percentCovered","_existDimension","_findDimensions","maxResults","steps","end","some","coordinateTemp","checkDimension","concat","document","body","_showDebugElements","documentFragment","createDocumentFragment","entries","createElement","dimParts","split","backgroundColor","Boolean","opacity","zIndex","border","innerHTML","classList","add","setAttribute","appendChild","_hideDebugElements","debugElements","length","parentNode","removeChild","findNonOverlappingDimensions","findChain","maxDepth","dimensionsTemp","getEventCoordinates","e","posX","posY","offsetX","offsetY","originalEvent","layerX","layerY"],"mappings":"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","file":"layout.js","sourceRoot":"/js"}