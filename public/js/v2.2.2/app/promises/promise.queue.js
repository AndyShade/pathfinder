define([],()=>{"use strict";return class Queue{constructor(){this._queue=[],this._pendingPromise=!1,this._stop=!1}enqueue(e,t="end",i=null){return new Promise((s,u)=>{this._queue["end"===t?"push":"unshift"]({promise:e,resolve:s,reject:u,data:i}),this.dequeue()})}dequeue(){if(this._pendingPromise)return!1;if(this._stop)return this._queue=[],this._stop=!1,!1;let e=this._queue.shift();if(!e)return!1;try{this._pendingPromise=!0,e.promise().then(t=>{this._pendingPromise=!1,e.resolve(t),this.dequeue()}).catch(t=>{this._pendingPromise=!1,e.reject(t),this.dequeue()})}catch(t){this._pendingPromise=!1,e.reject(t),this.dequeue()}return!0}filterQueue(e){return this._queue.filter(e)}}});
//# sourceMappingURL=promise.queue.js.map
