{"version":3,"sources":["app/lib/dragSelect.js"],"names":["define","EventHandler","DragSelect","[object Object]","config","this","_config","Object","assign","constructor","defaultConfig","_instanceId","instanceCount","_instanceName","namespace","join","_animationFrameId","_mouseIsDown","_cursorPosition","x","y","_selectBoxDimHash","undefined","_deselectedElements","_targetDim","left","top","width","height","_selectBoxOrigin","init","debug","msg","data","console","debugEvent","e","debugEvents","arrow","type","currentTarget","domRect","target","getBoundingClientRect","filterDomRect","boundary","closest","_boundaryDim","pageX","pageY","initSelectBox","setTargetDimensions","addEventListener","getNamespaceEvent","onMouseDown","bind","passive","container","onMouseMove","onMouseUp","which","showSelectBox","preventDefault","stopPropagation","cancelAnimationFrame","requestAnimationFrame","setCursorPosition","update","selectElements","hideSelectBox","_selectBox","document","createElement","id","classList","add","selectBoxClass","after","style","cssText","activeClass","callback","updated","isActiveSelectBox","tempWidth","tempHeight","newLeft","newTop","newWidth","newHeight","dimensionHash","dataset","origin","getSelectBoxDragOrigin","dispatch","remove","position","contains","disabledClass","querySelectorAll","selectables","selectableElements","selectBoxDim","forEach","el","elDim","percentCovered","selectedClass","filter","tempEl","findIndex","push","dim1","dim2","right","bottom","l","Math","max","r","min","t","b","intersection","setBoundaryDimensions","updateSelectBox","selectOnDrag","filteredKeys","obj","key","args","Function","event","CustomEvent","bubbles","detail","dispatchEvent","body","onShow","onHide","onUpdate"],"mappings":"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","file":"dragSelect.js","sourceRoot":"/js"}