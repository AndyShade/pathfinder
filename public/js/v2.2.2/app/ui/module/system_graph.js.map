{"version":3,"sources":["app/ui/module/system_graph.js"],"names":["define","$","Util","BaseModule","Morris","SystemGraphModule","[object Object]","config","super","Object","assign","defaultConfig","toolbarEl","newHeadlineToolbarElement","infoEl","document","createElement","innerHTML","popoverTriggerClass","append","mapId","systemData","this","_systemData","type","id","rowEl","classList","add","_config","bodyClassName","graphKey","keys","systemGraphs","colEl","dataset","graph","headEl","newHeadElement","newHandlerElement","newHeadlineElement","getInfoForGraph","graphEl","systemGraphClass","moduleElement","setModuleObserver","_dataPromise","getGraphsData","init","Promise","then","payload","addGraphData","data","catch","reason","status","error","showNotify","title","jqXHR","text","find","showLoadingAnimation","request","systemIds","systemId","graphData","serverData","getServerTime","timeSinceUpdate","Math","floor","getTime","updated","timeInHours","timeInMinutes","timeInMinutesPercent","parseFloat","toFixed","eventLine","max","graphsData","entries","graphColElement","graphElement","hideLoadingAnimation","initGraph","hoverIntent","over","e","element","tooltipData","parents","addSystemGraphTooltip","rows","trigger","popover","out","destroyPopover","selector","option","getObjVal","logExists","length","dataLength","xKey","yKeys","sum","reduce","result","key","obj","value","hasOwnProperty","goals","values","map","graphConfig","xkey","ykeys","labels","xLabelAngle","parseTime","ymin","yLabelFormat","round","padding","hideHover","pointSize","lineColors","pointFillColors","pointStrokeColors","lineWidth","grid","gridTextColor","gridTextSize","gridTextFamily","gridStrokeWidth","behaveLikeLine","goalStrokeWidth","goalLineColors","smooth","fillOpacity","areaColors","belowArea","dataLabels","eventStrokeWidth","eventLineColors","nbYkeys2","events","Line","tooltipRows","infoLabels","forEach","goal","i","push","label","class","serverDate","updatedDate","convertTimestampToServerTime","updatedDiff","getTimeDiffParts","formatTimeParts","css","beforeDestroy","destroy","name","onSortableEvent","from","to","resizeHandler","options","table","defaultOptions","placement","html","container","content","delay","show","hide","isPlugin","scope","sortArea","position","className","sortTargetAreas","jumps","headline","postUnits","shipKills","factionKills"],"mappings":"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","file":"system_graph.js","sourceRoot":"/js"}